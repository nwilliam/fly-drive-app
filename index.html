<!-- I am very well aware how much this needs cleaned up. I slapped this together in an evening, and as is tradition it took a life of its own.
 If you are a developer coming into this, know that I'm not an idiot, I always meant to clean up my tech debt, but you never, ever get to clean
 up your tech debt. Good luck. -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Fly or Drive Cost Comparison Tool</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <link href="css/style.css" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="assets/icons/small_plane_top_view.svg">
  <link rel="apple-touch-icon" href="assets/icons/small_plane_top_view.svg">
</head>

<body>
<header class="site-header">
  <img
    src="assets/logos/MnDOTAero-logo-white-letters.png"
    alt="MnDOT Aeronautics logo"
    class="header-logo"
  />

  <div class="header-text">
    <h1>Fly or Drive Cost Comparison Tool</h1>
    <p>
      Compare total employee, travel, and lodging costs for driving versus flying.
    </p>
  </div>
</header>

<main>
  <section>
    <h2>Trip Information</h2>
    <div class="form-grid">
      <div>
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0;">
          <label>Departure Airport</label>
        </div>
        <div class="static-field">KSTP – St. Paul Downtown / Holman Field</div>
        <!--<div class="hint">Round trip origin and return airport</div>-->
      </div>

      <div class="autocomplete-container">
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0; flex-wrap: wrap;">
          <label for="dest1" >Destination Airport</label>
          <div style="display: flex; align-items: center; white-space: nowrap; font-size: 0.7rem; margin-left: auto; gap: 0.25rem;">
            <input type="checkbox" id="roundTripCheckbox" checked>
            <label for="roundTripCheckbox" style="font-size: small;">Round Trip</label>
          </div>
        </div>
        <input autocomplete="off" id="dest1" placeholder="Enter ICAO, FAA code, or airport name" type="text">
        <div class="autocomplete-list" hidden id="dest1-list"></div>
        <!--<div class="hint">Start typing to see matching airports</div>-->
      </div>

      <div>
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0;">
          <label for="hours1">Hours at Destination</label>
        </div>
        <input id="hours1" min="0" type="number" value="2">
      </div>
    </div>

    <div class="form-grid" style="margin-top:1rem;">
      <div>
        <label id="directors-label" for="directors"></label>
        <span id="directors-tooltip"></span>
        <input id="directors" min="0" type="number" value="0">
      </div>
      <div>
        <label id="managers-label" for="managers"></label>
        <span id="managers-tooltip"></span>
        <input id="managers" min="0" type="number" value="2">
      </div>
      <div>
        <label id="generalists-label" for="generalists"></label>
        <span id="generalists-tooltip"></span>
        <input id="generalists" min="0" type="number" value="0">
      </div>
    </div>
    <!--<div style="margin-top:1rem;">
      <button id="calculate">Calculate</button>
    </div>-->
  </section>

  <section>
    <h2>Results (Round Trip)</h2>
    <div class="results-grid">
      <div class="result-card">
        <h3>Driving</h3>
        <div id="drive-cost-label">Total Cost</div>
        <div class="total" id="drive-total">$—</div>
      </div>
      <div class="result-card">
        <h3>Flying – King Air</h3>
        <div id="fly-cost-label">Total Cost</div>
        <div class="total" id="fly-total">$—</div>
      </div>
      <div class="result-card">
        <h3>Flying – Kodiak</h3>
        <div id="fly-cost-label-kodiak">Total Cost</div>
        <div class="total" id="fly-total-kodiak">$—</div>
      </div>
    </div>
  </section>

  <section>
    <h2>Calculation Breakdown</h2>
    <table>
      <!--<thead>
      <tr>
        <th>Item</th>
        <th>Formula</th>
        <th>Value</th>
      </tr>
      </thead>-->
      <tbody id="breakdownTable">
      <tr>
        <td colspan="3">Enter Trip Information to view calculation details.</td>
      </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Frequently Asked Questions</h2>

    <div class="faq-item">
      <div class="faq-question">What types of airplanes are flown by Aeronautics?</div>
      <div class="faq-answer">
        <p>MnDOT Aeronautics flies passengers in three turboprop aircraft:</p>
        <ul>
          <li>Beechcraft King Air C90</li>
          <li>Beechcraft King Air B200</li>
          <li>Daher Kodiak 100</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Who can use the aircraft?</div>
      <div class="faq-answer">
        <p>Any state agency personnel, elected officials, and people doing business with the State.</p>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Who pays for use of the aircraft?</div>
      <div class="faq-answer">
        <p>A single appropriation from the General Fund pays for all air travel within MnDOT. Outside agencies will be billed as per MnDOT's standard policies.</p>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">How do I schedule a flight?</div>
      <div class="faq-answer">
        <p>Call 651-234-7222</p>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Where do the planes fly?</div>
      <div class="faq-answer">
        <ul>
          <li>Any public-use airport within the State of Minnesota</li>
          <li>Many airports in surrounding states and across the United States</li>
          <li>Canada</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What are the advantages of using MnDOT aircraft?</div>
      <div class="faq-answer">
        <ul>
          <li>An office of the move, with business able to be conducted while traveling, maximizing time management</li>
          <li>Group productivity with executive, club style seating arrangement</li>
          <li>Privacy, security, and protection of intellectual property</li>
          <li>Interruptions and distractions eliminated</li>
          <li>Unexpected meetings can be accommodated</li>
          <li>Flexible departure and arrival schedule</li>
          <li>No wasted time waiting in line for a commercial flight</li>
          <li>Less travel time means saving on lodging and meals</li>
          <li>Elimination of post-travel fatigue</li>
          <li>Employee safety and security</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">How are trip miles determined?</div>
      <div class="faq-answer">
        <ul>
          <li>Air miles are calculated using haversine formula from latitude and longitude values for locations of departure and arrival airports.</li>
          <li>Road miles are calculated from distances provided by MapQuest</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What assumptions were used to determine travel costs?</div>
      <div class="faq-answer">
        <ul>
          <li>Average employee cost is based on their role and includes benefits.</li>
          <li>Lodging costs: <span id="faq-lodging-per-person"></span>/night per person</li>
          <li>Meals: <span id="faq-meals-breakfast"></span> breakfast, <span id="faq-meals-lunch"></span> lunch,
            <span id="faq-meals-dinner"></span> dinner
          </li>
          <li><span id="faq-vehicle-capacity"></span> people maximum per vehicle</li>
          <li><span id="faq-cost-per-mile-driving"></span>/mile vehicle cost</li>
          <li><span id="faq-cost-per-mile-flying-kingair"></span>/mile King Air airplane cost</li>
          <li><span id="faq-cost-per-mile-flying-kodiak"></span>/mile Kodiak airplane cost</li>
          <li>Overnight flying trips automatically add 2 employees worth of lodging and meals for two pilots</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What information was used to derive this tool?</div>
      <div class="faq-answer">
        <ul>
          <li>MnDOT human resources employee compensation and benefit data</li>
          <li>MnDOT Aeronautics flight operations and cost data</li>
          <li>Federal Highway Administration vehicle cost data</li>
          <li>National Business Aviation Association (NBAA) study "Business Aviation and Top Performing Companies"</li>
          <li>National Business Aviation Association (NBAA) and PRC Aviation study "Business Aircraft Operations: Financial Benefits and Intangible Advantages"</li>
        </ul>
        <p>All information used in this tool is publically available.</p>
      </div>
    </div>

  </section>
</main>

</body>

<script src="js/constants.js"></script>
<script src="js/airports.js"></script>
<script src="js/app.js"></script>

</html>
